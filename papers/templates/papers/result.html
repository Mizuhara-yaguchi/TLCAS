{% extends 'base.html' %}
{% load static %}
{% block head %}
{% endblock %}
{% block body %}
<main>
<form class="form-inline my-2 my-lg-0" role="search" method="get" action="{% url 'search' searchword 1 %}" target="_blank">
    <div class="input-group">
        <input type="text" class="form-control" name="q" placeholder="{{searchword}}">
        <span class="input-group-btn">
            
            <button type="submit" class="btn btn-secondary">Search</button>
        </span>
    </div><!-- /input-group -->
</form>

<ul>
{% for paper in page %}
 <li><a href="{% url 'detail' paper.id %}">{{ paper.paper_title }}</a></li>
{% endfor %}
</ul>
<!-- 以下为分页栏 -->
<div>
    <nav aria-label="Page navigation">
      <ul class="pagination">
      {% if page.has_previous %}
        <li class="active">
          <a href="{% url 'search' searchword page.previous_page_number %}" aria-label="Previous">
            <span aria-hidden="true">last page</span>
          </a>
        </li>
      {% else %}
        <li class="disabled">
          <a href="javascript:void(0);" aria-label="Previous">
            <span aria-hidden="true">last page</span>
          </a>
        </li>
      {% endif %}
      {% if paginator.has_previous_more %}
        <li><a href="{% url 'search' searchword 1 %}">1</a></li>
        <li><a href="javascript:void(0);">...</a></li>
      {% endif %}
      {% for previous_page in paginator.previous_range %}
        <li><a href="{% url 'search' searchword previous_page %}">{{ previous_page }}</a></li>
      {% endfor %}
      <li class="active"><a href="{% url 'search' searchword page.number %}">{{ page.number }}</a></li>
      {% for next_page in paginator.next_range %}
        <li><a href="{% url 'search' searchword next_page %}">{{ next_page }}</a></li>
      {% endfor %}
      {% if paginator.has_next_more %}
        <li><a href="javascript:void(0);">...</a></li>
        <li><a href="{% url 'search' searchword paginator.num_pages %}">{{ paginator.num_pages }}</a></li>
      {% endif %}

      {% if page.has_next %}
        <li class="active">
          <a href="{% url 'search' searchword page.next_page_number %}" aria-label="Previous">
            <span aria-hidden="true">next page</span>
          </a>
        </li>
      {% else %}
        <li class="disabled">
          <a href="javascript:void(0);" aria-label="Previous">
            <span aria-hidden="true">next page</span>
          </a>
        </li>
      {% endif %}
      </ul>
    </nav>
</div>

<!-- 以上为分页栏 -->
</main>
{% endblock %}